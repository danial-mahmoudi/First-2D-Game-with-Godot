[gd_scene load_steps=25 format=4 uid="uid://cw1cbw157qecy"]

[ext_resource type="Texture2D" uid="uid://b20yjhpkth0m6" path="res://assets/art/prototype/prototype.png" id="1_yqjtg"]
[ext_resource type="PackedScene" uid="uid://c1ri86rj3taso" path="res://scenes/objects/candle.tscn" id="2_lbhrr"]
[ext_resource type="Script" uid="uid://b5dgnwt4xdpgr" path="res://scenes/characters/player.gd" id="2_lnu2h"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_yqjtg"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_yqjtg"]
polygon = PackedVector2Array(6.0539856, -16, 16, -16, 16, 16, 5.735359, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_lnu2h"]
polygon = PackedVector2Array(-4.1421967, -16, 4.1422043, -16, 4.1422043, 16, -4.1421967, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_lbhrr"]
polygon = PackedVector2Array(-16, -16, 16, -16, 16, -6.0539837, -16, -6.372616)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_iywne"]
polygon = PackedVector2Array(-4.1421967, -3.8235683, 3.8235703, -3.8235683, 4.1422043, 16, -3.8235703, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_p57ef"]
polygon = PackedVector2Array(-16, 6.372616, 16, 6.691246, 16, 16, -16, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_u5sy4"]
polygon = PackedVector2Array(-16, -11.789337, 16, -11.789337, 16, 16, -16, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_gee14"]
polygon = PackedVector2Array(-10.833443, -7.965769, 10.83345, -8.284399, 10.83345, 16, -10.833443, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_0tnpc"]
polygon = PackedVector2Array(-16, -16, -6.0539856, -16, -6.372612, 16, -16, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_vtaks"]
polygon = PackedVector2Array(-16, -2.8676758, 16, -2.5490456, 16, 16, -16, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_lbhrr"]
texture = ExtResource("1_yqjtg")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
9:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_0tnpc")
9:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, -6.115196, -16, -5.8946705, 16, -16, 16)
10:0/0 = 0
10:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_yqjtg")
10:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(5.7554817, -16, 16, -16, 16, 16, 6.115196, 16)
11:0/0 = 0
11:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_lbhrr")
11:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, -6.2950544, -16, -6.115196)
12:0/0 = 0
12:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_p57ef")
12:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, 6.2950554, 16, 6.115198, 16, 16, -16, 16)
13:0/0 = 0
13:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_u5sy4")
13:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -11.870676, 16, -11.870676, 16, 16, -16, 16)
14:0/0 = 0
14:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_gee14")
14:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-10.791523, -7.733925, 10.611664, -7.733925, 10.971382, 16, -10.611664, 16)
15:0/0 = 0
16:0/0 = 0
17:0/0 = 0
18:0/0 = 0
21:0/0 = 0
22:0/0 = 0
23:0/0 = 0
26:0/0 = 0
27:0/0 = 0
28:0/0 = 0
29:0/0 = 0
30:0/0 = 0
31:0/0 = 0
32:0/0 = 0
33:0/0 = 0
34:0/0 = 0
35:0/0 = 0
36:0/0 = 0
37:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
9:1/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_vtaks")
9:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -2.877739, 16, -2.877739, 16, 16, -16, 16)
10:1/0 = 0
10:1/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_lnu2h")
10:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-3.777031, -16, 3.7770348, -16, 3.7770348, 16, -3.777031, 16)
11:1/0 = 0
11:1/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_iywne")
11:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-3.777031, -3.7770329, 3.7770348, -3.5971737, 3.7770348, 16, -3.777031, 16)
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
16:1/0 = 0
17:1/0 = 0
18:1/0 = 0
20:1/0 = 0
21:1/0 = 0
24:1/0 = 0
25:1/0 = 0
26:1/0 = 0
27:1/0 = 0
28:1/0 = 0
29:1/0 = 0
30:1/0 = 0
31:1/0 = 0
32:1/0 = 0
33:1/0 = 0
36:1/0 = 0
37:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
15:2/0 = 0
18:2/0 = 0
19:2/0 = 0
20:2/0 = 0
21:2/0 = 0
22:2/0 = 0
23:2/0 = 0
30:2/0 = 0
31:2/0 = 0
32:2/0 = 0
33:2/0 = 0
34:2/0 = 0
35:2/0 = 0
36:2/0 = 0
37:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
15:3/0 = 0
18:3/0 = 0
19:3/0 = 0
20:3/0 = 0
21:3/0 = 0
22:3/0 = 0
23:3/0 = 0
30:3/0 = 0
31:3/0 = 0
32:3/0 = 0
33:3/0 = 0
36:3/0 = 0
37:3/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_iywne"]
scenes/1/scene = ExtResource("2_lbhrr")

[sub_resource type="TileSet" id="TileSet_iywne"]
tile_size = Vector2i(32, 32)
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 1
physics_layer_0/physics_material = SubResource("PhysicsMaterial_yqjtg")
sources/0 = SubResource("TileSetAtlasSource_lbhrr")
sources/1 = SubResource("TileSetScenesCollectionSource_iywne")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_p57ef"]
size = Vector2(17, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u5sy4"]
size = Vector2(20, 12)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_lnu2h"]
light_mode = 1

[sub_resource type="AtlasTexture" id="AtlasTexture_gee14"]
atlas = ExtResource("1_yqjtg")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0tnpc"]
atlas = ExtResource("1_yqjtg")
region = Rect2(32, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_vtaks"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_gee14")
}],
"loop": true,
"name": &"bat",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0tnpc")
}],
"loop": true,
"name": &"human",
"speed": 5.0
}]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_kvpfn"]
polygon = PackedVector2Array(-3, -30, 5, -30, 5, -26, -3, -26)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_dinhu"]
polygon = PackedVector2Array(-4, -4, 4, -4, 10, -2, 3, 0, -4, 0, -10, -2)

[node name="Game" type="Node2D"]

[node name="Level1" type="Node2D" parent="."]

[node name="TileMapGround" type="TileMapLayer" parent="Level1"]
tile_map_data = PackedByteArray("AAAAAAAAAAAGAAAAAAAAAAEAAAAGAAAAAAAAAAIAAAAGAAAAAAAAAAMAAAAGAAAAAAAAAAQAAAAGAAAAAAAAAAUAAAAGAAAAAAAAAAYAAAAGAAAAAAAAAAcAAAAGAAAAAAAAAAgAAAAGAAAAAAAAAAkAAAAGAAAAAAAAAAoAAAAGAAAAAAAAAAsAAAAGAAAAAAAAAAwAAAAGAAAAAAABAAAAAAAGAAAAAAABAAEAAAAGAAAAAAABAAIAAAAGAAAAAAABAAMAAAAGAAAAAAABAAQAAAAGAAAAAAABAAUAAAAGAAAAAAABAAYAAAAGAAAAAAABAAcAAAAGAAAAAAABAAgAAAAGAAAAAAABAAkAAAAGAAAAAAABAAoAAAAGAAAAAAABAAsAAAAGAAAAAAABAAwAAAAGAAAAAAACAAAAAAAGAAAAAAACAAEAAAAGAAAAAAACAAIAAAAGAAAAAAACAAMAAAAGAAAAAAACAAQAAAAGAAAAAAACAAUAAAAGAAAAAAACAAYAAAAGAAAAAAACAAcAAAAGAAAAAAACAAgAAAAGAAAAAAACAAkAAAAGAAAAAAACAAoAAAAGAAAAAAACAAsAAAAGAAAAAAACAAwAAAAGAAAAAAADAAAAAAAGAAAAAAADAAEAAAAGAAAAAAADAAIAAAAGAAAAAAADAAMAAAAGAAAAAAADAAQAAAAGAAAAAAADAAUAAAAGAAAAAAADAAYAAAAGAAAAAAADAAcAAAAGAAAAAAADAAgAAAAGAAAAAAADAAkAAAAGAAAAAAADAAoAAAAGAAAAAAADAAsAAAAGAAAAAAADAAwAAAAGAAAAAAAEAAAAAAAGAAAAAAAEAAEAAAAGAAAAAAAEAAIAAAAGAAAAAAAEAAMAAAAGAAAAAAAEAAQAAAAGAAAAAAAEAAUAAAAGAAAAAAAEAAYAAAAGAAAAAAAEAAcAAAAGAAAAAAAEAAgAAAAGAAAAAAAEAAkAAAAGAAAAAAAEAAoAAAAGAAAAAAAEAAsAAAAGAAAAAAAEAAwAAAAGAAAAAAAFAAAAAAAGAAAAAAAFAAEAAAAGAAAAAAAFAAIAAAAGAAAAAAAFAAMAAAAGAAAAAAAFAAQAAAAGAAAAAAAFAAUAAAAGAAAAAAAFAAYAAAAGAAAAAAAFAAcAAAAGAAAAAAAFAAgAAAAGAAAAAAAFAAkAAAAGAAAAAAAFAAoAAAAGAAAAAAAFAAsAAAAGAAAAAAAFAAwAAAAGAAAAAAAGAAAAAAAGAAAAAAAGAAEAAAAGAAAAAAAGAAIAAAAGAAAAAAAGAAMAAAAGAAAAAAAGAAQAAAAGAAAAAAAGAAUAAAAGAAAAAAAGAAYAAAAGAAAAAAAGAAcAAAAGAAAAAAAGAAgAAAAGAAAAAAAGAAkAAAAGAAAAAAAGAAoAAAAGAAAAAAAGAAsAAAAGAAAAAAAGAAwAAAAGAAAAAAAHAAAAAAAGAAAAAAAHAAEAAAAGAAAAAAAHAAIAAAAGAAAAAAAHAAMAAAAGAAAAAAAHAAQAAAAGAAAAAAAHAAUAAAAGAAAAAAAHAAYAAAAGAAAAAAAHAAcAAAAGAAAAAAAHAAgAAAAGAAAAAAAHAAkAAAAGAAAAAAAHAAoAAAAGAAAAAAAHAAsAAAAGAAAAAAAHAAwAAAAGAAAAAAAIAAAAAAAGAAAAAAAIAAEAAAAGAAAAAAAIAAIAAAAGAAAAAAAIAAMAAAAGAAAAAAAIAAQAAAAGAAAAAAAIAAUAAAAGAAAAAAAIAAYAAAAGAAAAAAAIAAcAAAAGAAAAAAAIAAgAAAAGAAAAAAAIAAkAAAAGAAAAAAAIAAoAAAAGAAAAAAAIAAsAAAAGAAAAAAAIAAwAAAAGAAAAAAAJAAAAAAAGAAAAAAAJAAEAAAAGAAAAAAAJAAIAAAAGAAAAAAAJAAMAAAAGAAAAAAAJAAQAAAAGAAAAAAAJAAUAAAAGAAAAAAAJAAYAAAAGAAAAAAAJAAcAAAAGAAAAAAAJAAgAAAAGAAAAAAAJAAkAAAAGAAAAAAAJAAoAAAAGAAAAAAAJAAsAAAAGAAAAAAAJAAwAAAAGAAAAAAAKAAAAAAAGAAAAAAAKAAEAAAAGAAAAAAAKAAIAAAAGAAAAAAAKAAMAAAAGAAAAAAAKAAQAAAAGAAAAAAAKAAUAAAAGAAAAAAAKAAYAAAAGAAAAAAAKAAcAAAAGAAAAAAAKAAgAAAAGAAAAAAAKAAkAAAAGAAAAAAAKAAoAAAAGAAAAAAAKAAsAAAAGAAAAAAAKAAwAAAAGAAAAAAALAAAAAAAGAAAAAAALAAEAAAAGAAAAAAALAAIAAAAGAAAAAAALAAMAAAAGAAAAAAALAAQAAAAGAAAAAAALAAUAAAAGAAAAAAALAAYAAAAGAAAAAAALAAcAAAAGAAAAAAALAAgAAAAGAAAAAAALAAkAAAAGAAAAAAALAAoAAAAGAAAAAAALAAsAAAAGAAAAAAALAAwAAAAGAAAAAAAMAAAAAAAGAAAAAAAMAAEAAAAGAAAAAAAMAAIAAAAGAAAAAAAMAAMAAAAGAAAAAAAMAAQAAAAGAAAAAAAMAAUAAAAGAAAAAAAMAAYAAAAGAAAAAAAMAAcAAAAGAAAAAAAMAAgAAAAGAAAAAAAMAAkAAAAGAAAAAAAMAAoAAAAGAAAAAAAMAAsAAAAGAAAAAAAMAAwAAAAGAAAAAAANAAAAAAAGAAAAAAANAAEAAAAGAAAAAAANAAIAAAAGAAAAAAANAAMAAAAGAAAAAAANAAQAAAAGAAAAAAANAAUAAAAGAAAAAAANAAYAAAAGAAAAAAANAAcAAAAGAAAAAAANAAgAAAAGAAAAAAANAAkAAAAGAAAAAAANAAoAAAAGAAAAAAANAAsAAAAGAAAAAAANAAwAAAAGAAAAAAAOAAAAAAAGAAAAAAAOAAEAAAAGAAAAAAAOAAIAAAAGAAAAAAAOAAMAAAAGAAAAAAAOAAQAAAAGAAAAAAAOAAUAAAAGAAAAAAAOAAYAAAAGAAAAAAAOAAcAAAAGAAAAAAAOAAgAAAAGAAAAAAAOAAkAAAAGAAAAAAAOAAoAAAAGAAAAAAAOAAsAAAAGAAAAAAAOAAwAAAAGAAAAAAAPAAAAAAAGAAAAAAAPAAEAAAAGAAAAAAAPAAIAAAAGAAAAAAAPAAMAAAAGAAAAAAAPAAQAAAAGAAAAAAAPAAUAAAAGAAAAAAAPAAYAAAAGAAAAAAAPAAcAAAAGAAAAAAAPAAgAAAAGAAAAAAAPAAkAAAAGAAAAAAAPAAoAAAAGAAAAAAAPAAsAAAAGAAAAAAAPAAwAAAAGAAAAAAAQAAAAAAAGAAAAAAAQAAEAAAAGAAAAAAAQAAIAAAAGAAAAAAAQAAMAAAAGAAAAAAAQAAQAAAAGAAAAAAAQAAUAAAAGAAAAAAAQAAYAAAAGAAAAAAAQAAcAAAAGAAAAAAAQAAgAAAAGAAAAAAAQAAkAAAAGAAAAAAAQAAoAAAAGAAAAAAAQAAsAAAAGAAAAAAAQAAwAAAAGAAAAAAARAAAAAAAGAAAAAAARAAEAAAAGAAAAAAARAAIAAAAGAAAAAAARAAMAAAAGAAAAAAARAAQAAAAGAAAAAAARAAUAAAAGAAAAAAARAAYAAAAGAAAAAAARAAcAAAAGAAAAAAARAAgAAAAGAAAAAAARAAkAAAAGAAAAAAARAAoAAAAGAAAAAAARAAsAAAAGAAAAAAARAAwAAAAGAAAAAAASAAAAAAAGAAAAAAASAAEAAAAGAAAAAAASAAIAAAAGAAAAAAASAAMAAAAGAAAAAAASAAQAAAAGAAAAAAASAAUAAAAGAAAAAAASAAYAAAAGAAAAAAASAAcAAAAGAAAAAAASAAgAAAAGAAAAAAASAAkAAAAGAAAAAAASAAoAAAAGAAAAAAASAAsAAAAGAAAAAAASAAwAAAAGAAAAAAA=")
tile_set = SubResource("TileSet_iywne")

[node name="TileMapObjects" type="TileMapLayer" parent="Level1"]
tile_map_data = PackedByteArray("AAAAAAAAAAALAAAAAAAAAAEAAAAJAAAAAAAAAAIAAAAJAAAAAAAAAAMAAAAJAAAAAAAAAAQAAAAJAAAAAAAAAAUAAAAJAAAAAAAAAAYAAAAJAAAAAAAAAAcAAAAJAAAAAAAAAAgAAAAJAAAAAAABAAAAAAALAAAAAAACAAAAAAALAAAAAAADAAAAAAALAAAAAAAEAAAAAAALAAAAAAAFAAAAAAALAAAAAAAGAAAAAAALAAAAAAAHAAAAAAALAAAAAAAIAAAAAAALAAAAAAAJAAAAAAALAAAAAAAKAAAAAAALAAAAAAALAAAAAAALAAAAAAAMAAAAAAALAAAAAAANAAAAAAALAAAAAAAOAAAAAAALAAAAAAAPAAAAAAALAAAAAAAQAAAAAAALAAAAAAARAAAAAAALAAAAAAASAAAAAAALAAAAAAASAAEAAAAKAAAAAAASAAIAAAAKAAAAAAASAAMAAAAKAAAAAAASAAQAAAAKAAAAAAASAAUAAAAKAAAAAAASAAYAAAAKAAAAAAASAAcAAAAKAAAAAAASAAgAAAAKAAAAAAASAAkAAAAKAAAAAAASAAoAAAAKAAAAAAASAAsAAAAKAAAAAAAAAAkAAAAJAAAAAAAAAAoAAAAJAAAAAAAAAAsAAAAJAAAAAAAAAAwAAAAMAAAAAAABAAwAAAAMAAAAAAACAAwAAAAMAAAAAAADAAwAAAAMAAAAAAAEAAwAAAAMAAAAAAAFAAwAAAAMAAAAAAAGAAwAAAAMAAAAAAAIAAwAAAAMAAAAAAAHAAwAAAAMAAAAAAAJAAwAAAAMAAAAAAAKAAwAAAAMAAAAAAALAAwAAAAMAAAAAAAMAAwAAAAMAAAAAAANAAwAAAAMAAAAAAAOAAwAAAAMAAAAAAAPAAwAAAAMAAAAAAAQAAwAAAAMAAAAAAARAAwAAAAMAAAAAAASAAwAAAAMAAAAAAADAAMAAAAKAAEAAAADAAUAAAAKAAEAAAACAAMAAQAAAAAAAQACAAUAAAAJAAAAAAAFAAUAAAAJAAEAAAAGAAUAAAAJAAEAAAAHAAUAAAAJAAEAAAACAAYAAAAJAAAAAAACAAcAAAAJAAAAAAACAAQAAAAJAAAAAAACAAgAAAAJAAAAAAACAAkAAAAMAAAAAAADAAkAAAAMAAAAAAAEAAkAAAAMAAAAAAAFAAkAAAAMAAAAAAAFAAcAAAAMAAAAAAAIAAMAAQAAAAAAAQAHAAoAAQAAAAAAAQA=")
tile_set = SubResource("TileSet_iywne")

[node name="Player" type="CharacterBody2D" parent="Level1"]
position = Vector2(552, 259)
script = ExtResource("2_lnu2h")

[node name="HumanCollisionShape" type="CollisionShape2D" parent="Level1/Player"]
position = Vector2(0, -10)
shape = SubResource("RectangleShape2D_p57ef")

[node name="BatCollisionShape" type="CollisionShape2D" parent="Level1/Player"]
position = Vector2(0, -19)
shape = SubResource("RectangleShape2D_u5sy4")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Level1/Player"]
material = SubResource("CanvasItemMaterial_lnu2h")
position = Vector2(0, -16)
sprite_frames = SubResource("SpriteFrames_vtaks")
animation = &"bat"

[node name="Camera2D" type="Camera2D" parent="Level1/Player"]
zoom = Vector2(4, 4)

[node name="BatOccluder" type="LightOccluder2D" parent="Level1/Player"]
position = Vector2(-1, 14)
occluder = SubResource("OccluderPolygon2D_kvpfn")

[node name="HumanOccluder" type="LightOccluder2D" parent="Level1/Player"]
occluder = SubResource("OccluderPolygon2D_dinhu")
sdf_collision = false
